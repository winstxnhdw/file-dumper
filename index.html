<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Force File as Text</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
    </style>
</head>
<body>
    <h1>Upload and View File as Text</h1>
    <input type="file" id="file-input" />
    <button id="dump-button">Dump as Text</button>

    <script>
        const fileInput = document.getElementById('file-input');
        const dumpButton = document.getElementById('dump-button');

        dumpButton.addEventListener('click', function () {
            const file = fileInput.files[0];

            if (!file) {
                alert('No file selected');
                return;
            }

            const fileReader = new FileReader();

            fileReader.onload = function (event) {
                // Get the raw text content of the file
                const fileText = event.target.result;

                // Create a new tab with the file's text content
                const newTab = window.open();
                newTab.document.body.innerHTML = `<pre>${fileText}</pre>`;
            };

            // Read the file as text, regardless of its MIME type
            fileReader.readAsText(file);
        });
    </script>
</body>
</html>
